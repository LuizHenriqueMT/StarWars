unit UAPI;

interface

uses
  System.SysUtils, System.Types, System.UITypes, System.Classes, System.Variants,
  FMX.Types, FMX.Controls, FMX.Forms, FMX.Graphics, FMX.Dialogs,
  FMX.Controls.Presentation, FMX.ScrollBox, FMX.Memo, System.Rtti,
  System.Bindings.Outputs, Fmx.Bind.Editors, Data.Bind.EngExt,
  Fmx.Bind.DBEngExt, Data.Bind.Components, REST.Types, REST.Client,
  Data.Bind.ObjectScope, FMX.StdCtrls, FMX.Edit, REST.Response.Adapter,
  FMX.ListView.Types, FMX.ListView.Appearances, FMX.ListView.Adapters.Base,
  Data.Bind.DBScope, FMX.ListView, FMX.Layouts, FMX.ListBox, FMX.Objects,
  FMX.Menus;

type
  TfrmAPI = class(TForm)
    listBoxAPI: TListBox;
    panelAPI: TPanel;
    GroupBox1: TGroupBox;
    StyleBook1: TStyleBook;
    ListView1: TListView;
    Executar: TButton;
    BindSourceDB1: TBindSourceDB;
    BindingsList1: TBindingsList;
    LinkListControlToField1: TLinkListControlToField;
    ListBox1: TListBox;
    ListBoxItem1: TListBoxItem;
    procedure ListView1UpdateObjects(const Sender: TObject;
      const AItem: TListViewItem);
    procedure ExecutarClick(Sender: TObject);
    procedure ListBoxItem1Click(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  frmAPI: TfrmAPI;

implementation

{$R *.fmx}

uses UStarWars, UModulo;

procedure TfrmAPI.ExecutarClick(Sender: TObject);
var
  descricao: string;
begin
  with moduloREST do
    begin
      RESTRequest.Execute;
      descricao:= FDMemTable.FieldByName('name').Value;
    end;

  {with listview1.Items.Add do
    begin
      TListItemText(Objects.FindDrawable('nomePlaneta')).Text:= descricao;
    end;}
end;

procedure TfrmAPI.ListBoxItem1Click(Sender: TObject);
begin
  listbox1.
end;

procedure TfrmAPI.ListView1UpdateObjects(const Sender: TObject;
  const AItem: TListViewItem);
var
  img: TListItemImage;
begin
  //Image resize
  with AItem do
    begin
      img:= TListItemImage(Objects.FindDrawable('Image5'));
      img.Width:= frmAPI.Width;
      img.Height:= frmAPI.Height;
    end;
end;

end.
